# オーレの定理（ハミルトン閉路）の解説

このドキュメントでは、グラフがハミルトン閉路を持つための十分条件をオーレの定理を用いて判定するCプログラム `algo-data-20-1.c` について解説します。

## 概要

このプログラムは、グラフの隣接行列を読み込み、オーレの定理を満たすかどうかをチェックします。オーレの定理は、頂点数 $n \ge 3$ のグラフにおいて、隣接していない任意の2頂点 $u, v$ の次数（degree）の和が $deg(u) + deg(v) \ge n$ であるならば、そのグラフはハミルトン閉路を持つ（ハミルトングラフである）というものです。

## アルゴリズムの解説：オーレの定理とハミルトン閉路

**ハミルトン閉路 (Hamiltonian Cycle)** とは、グラフ上のすべての頂点をちょうど1回ずつ通り、出発点に戻ってくる経路のことです。ハミルトン閉路を持つグラフを**ハミルトングラフ**と呼びます。

**オーレの定理 (Ore's Theorem):**
これは、あるグラフがハミルトングラフであるための**十分条件**を与える定理です。
-   **条件:** 頂点数が $n \ge 3$ のグラフにおいて、隣接していない任意の2頂点 $u$ と $v$ について、次数の和が $n$ 以上であること。
    $$deg(u) + deg(v) \ge n$$
-   **意味:** この条件を満たすならば、そのグラフは必ずハミルトン閉路を持ちます。
-   **注意点:** これは十分条件であり、必要条件ではありません。つまり、この条件を満たさなくてもハミルトン閉路を持つグラフは存在します（例えば、正六角形のグラフなど）。プログラムの出力が "possible Hamilton" となっているのはそのためです。

この定理は、グラフのエッジの密度が十分に高ければ、ハミルトン閉路が存在することを保証するものです。

## 主な構成要素

### 1. `main` 関数

-   **入力読み込み:**
    -   `n`: 頂点数。
    -   `g`: サイズ $n \times n$ の隣接行列。
    -   また、`v`（各頂点の次数を格納するため）のメモリを確保します。

-   **次数の計算:**
    -   隣接行列を反復処理します。
    -   各頂点 `i` の次数を計算し、`v[i]` に格納します。`v[i]` は頂点 `i` に接続されているエッジの数です。

-   **オーレの条件チェック:**
    -   すべての異なる頂点のペア `(i, j)` を反復処理します。
    -   それらが隣接していないか確認します (`g[i][j] == 0`)。
    -   隣接していない場合、次数の和 `v[i] + v[j]` をチェックします。
    -   もし `v[i] + v[j] < n` であれば、オーレの条件は満たされません。`flg = 0` に設定します。
    -   `flg` が0になった時点でループを早期に終了します。

-   **出力:**
    -   `flg` が 1（条件を満たす）の場合、"Hamilton" と出力します。これはグラフかハミルトングラフであることを保証します。
    -   `flg` が 0（条件を満たさない）の場合、"possible Hamilton" と出力します。これは、グラフがハミルトン閉路を持つ*可能性はある*ものの、オーレの十分条件は満たしていないことを意味します。

## 入出力形式

**入力:**
-   1行目：整数 `n`。
-   続く `n` 行：各行 `n` 個の整数、隣接行列 `g` を表します。

**出力:**
-   オーレの条件を満たす場合は "Hamilton"。
-   それ以外の場合は "possible Hamilton"。
